.theme-dark:not(.css-settings-manager),
.theme-light:not(.css-settings-manager),
.spa-full-palette {
    --blockquote-border-color: rgb(var(--spa-lavender));
    --spa-accent: var(--spa-lavender);
    --divider-color-hover: rgb(var(--spa-blue));
    --hr-color: rgb(var(--spa-blue));
    --indentation-guide-color: rgb(var(--spa-surface1));
    --indentation-guide-color-active: rgb(var(--spa-sapphire), 70%);
    --indentation-guide-width: 2px;
    --list-marker-color: rgb(var(--spa-sapphire));
    --checklist-done-color: rgb(var(--spa-green));

    .workspace-tab-header-inner-close-button:hover {
        box-shadow: none;
    }

    /*
  * Nav bar
  */

    .nav-file-title.is-active,
    .nav-folder-title.is-active {
        --nav-item-background-active: rgb(var(--spa-mauve));
    }

    :not(.is-grabbing) .nav-file-title:hover,
    :not(.is-grabbing) .nav-folder-title:hover,
    .tree-item-self.is-clickable:hover {
        background-color: rgb(var(--spa-accent));
        color: var(--text-on-accent);
    }

    .nav-folder.mod-root>.nav-folder-title:hover {
        background-color: transparent;
        color: rgb(var(--text-normal));
    }

    /*
  * Icons
  */

    .clickable-icon.is-active,
    .mod-left-split .workspace-tab-header.has-active-menu,
    .mod-right-split .workspace-tab-header.has-active-menu,
    .mod-left-split .workspace-tab-header.is-active,
    .mod-right-split .workspace-tab-header.is-active {
        box-shadow:
            inset 0 0 4px rgb(var(--spa-crust)),
            inset 0 0 6px rgb(var(--spa-base));
        outline: 1px solid rgb(var(--spa-surface1));
        transition: var(--transition-hover-bg), var(--transition-hover-box-shadow);

        svg {
            color: rgb(var(--spa-pink));
            transition: var(--transition-hover-bg), var(--transition-hover-color);
        }

        &:hover,
        &:hover svg {
            background-color: rgb(var(--spa-pink));
            box-shadow: none;
            color: var(--text-on-accent);
        }
    }

    .clickable-icon,
    .mod-left-split .workspace-tab-header,
    .mod-right-split .workspace-tab-header {
        transition: var(--transition-hover-bg), var(--transition-hover-color);

        &:hover {
            background-color: rgb(var(--spa-pink));
            color: var(--text-on-accent);
        }

        &:hover svg {
            color: var(--text-on-accent);
        }
    }

    .workspace-tab-header:not(.is-active):hover .workspace-tab-header-inner {
        --background-modifier-hover: rgb(var(--spa-pink));
    }

    .workspace .mod-root .workspace-tabs.mod-stacked .workspace-tab-container .workspace-tab-header-inner-icon:hover {
        background-color: transparent;
    }

    .mod-vertical .workspace-tab-header:not(.is-active):hover .workspace-tab-header-inner svg {
        color: var(--text-on-accent);
    }

    .mod-vertical .workspace-tabs.mod-stacked .workspace-tab-header:not(.is-active) .workspace-tab-header-inner-close-button:hover svg {
        color: var(--text-on-accent);
    }

    /*
  * Tabs
  */

    .workspace .mod-root .workspace-tabs.mod-stacked .workspace-tab-header-inner:hover .workspace-tab-header-inner-title {
        color: rgb(var(--spa-pink)); // change to pink in full palette
    }

    .mod-vertical .workspace-tabs.mod-stacked .workspace-tab-header:not(.is-active):hover .workspace-tab-header-inner .workspace-tab-header-inner-title {
        color: rgb(var(--spa-pink));
    }

    /*
  * Prompts
  */

    .suggestion-item.is-selected {
        --background-modifier-hover: rgb(var(--spa-lavender));

        color: var(--text-on-accent);

        &:hover .suggestion-flair {
            color: var(--text-on-accent);
        }
    }

    /*
  * Search
  */
    .suggestion .suggestion-item.mod-group {
        background-color: inherit;
        color: var(--text-muted);
        font-size: var(--font-ui-medium);
        font-variant: all-small-caps;
    }

    .search-suggest-item.is-selected {
        background-color: rgb(var(--spa-accent));
        color: var(--text-on-accent);

        .list-item-part.clickable-icon {
            color: var(--text-muted);
        }

        .search-suggest-info-text {
            color: var(--text-on-accent);
        }
    }

    /*
  * Dropdowns
  */

    select:focus,
    .dropdown:focus {
        box-shadow: 0 0 0 2px rgb(var(--spa-blue), 70%);
    }

    textarea:active,
    input[type="text"]:active,
    input[type="search"]:active,
    input[type="email"]:active,
    input[type="password"]:active,
    input[type="number"]:active,
    textarea:focus,
    input[type="text"]:focus,
    input[type="search"]:focus,
    input[type="email"]:focus,
    input[type="password"]:focus,
    input[type="number"]:focus,
    textarea:focus-visible,
    input[type="text"]:focus-visible,
    input[type="search"]:focus-visible,
    input[type="email"]:focus-visible,
    input[type="password"]:focus-visible,
    input[type="number"]:focus-visible {
        box-shadow: 0 0 0 2px rgb(var(--spa-blue), 70%);
    }

    /*
  * Checkboxes
  */
    input[type="checkbox"]:not(:checked) {
        border-color: rgb(var(--spa-maroon));
        background-color: rgb(var(--spa-red));
        box-shadow:
            inset 4px 4px 12px rgb(var(--spa-mantle)),
            inset -4px -4px 12px rgb(var(--spa-mantle));

        &:hover {
            border-width: 2px;
        }
    }

    input[type="checkbox"]:checked {
        border-color: transparent;
        background-color: rgb(var(--spa-green));
        box-shadow: 0 0 0 1px rgb(var(--spa-green), 40%);

        &:hover {
            background-color: rgb(var(--spa-maroon));
            box-shadow: 0 0 0 1px rgb(var(--spa-maroon), 40%);
        }
    }

    .horizontal-tab-nav-item:hover,
    .vertical-tab-nav-item:hover {
        background-color: rgb(var(--spa-accent));
        color: var(--text-on-accent);
    }

    .horizontal-tab-nav-item.is-active,
    .vertical-tab-nav-item.is-active {
        background-color: rgb(var(--spa-mauve));

        &:hover {
            background-color: rgb(var(--spa-accent));
        }
    }

    /*
? I think !important is necessary to overwrite app.css's
*/
    .HyperMD-header .cm-formatting-header {
        color: rgb(var(--spa-sapphire));
        font-size: 75% !important;
    }

    /*
  *  settings slider
  */
    .mod-settings {
        & input.slider {
            --slider-track-background: rgb(var(--spa-green));
        }

        & input[type="color"]::-webkit-color-swatch:hover {
            box-shadow:
                inset 0 0 0 1px rgb(var(--mono-rgb-100), 25%),
                0 0 0 2px rgb(var(--spa-surface1));
        }
    }

    /*
  * Canvas
  */
    .canvas-controls button:hover {
        background-color: rgb(var(--spa-pink));
    }

    /*
  * Bookmarks
  */

    body:not(.is-grabbing) .tree-item-self.is-active:hover,
    .tree-item-self.is-active {
        --nav-item-color-active: var(--text-on-accent);
        --nav-item-background-active: rgb(var(--spa-mauve));

        .tree-item-icon {
            --icon-color: var(--text-on-accent);
        }
    }
}